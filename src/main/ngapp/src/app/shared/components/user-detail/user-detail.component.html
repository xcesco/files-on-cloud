<form [formGroup]="form" novalidate (ngSubmit)="onSave()">

  <div class="form-group">
    <label for="username">Username *:</label>
    <input type="username"
           id="username"
           formControlName="username"
           class="form-control"
           placeholder="Es: test@gmail.com"
           [readonly]="alreadyExists"
           appManagedError
    >
    <app-display-managed-error controlName="username">Insert a valid email address (max 64 chars)</app-display-managed-error>
  </div>

  <div class="form-group" *ngIf="isJustCreated">
    <label for="password">Password *:</label>
    <input type="password"
           id="password"
           formControlName="password"
           class="form-control"
           appManagedError
    >
    <app-display-managed-error controlName="password">Insert a password (min. 8 chars - max. 16 chars)</app-display-managed-error>
  </div>

  <div class="form-group">
    <label for="email">Email *:</label>
    <input type="email"
           id="email"
           formControlName="email"
           class="form-control"
           placeholder="Es: test@gmail.com"
           appManagedError
    >
    <app-display-managed-error controlName="email">Insert a valid email address (max 64 chars)</app-display-managed-error>
  </div>

  <div class="form-group" *ngIf="isConsumer">
    <label for="displayName">Codice fiscale *:</label>
    <input type="text"
           id="codiceFiscale"
           formControlName="codiceFiscale"
           class="form-control"
           [readonly]="alreadyExists"
           placeholder="Es: MRATST80A01L424H"
           appManagedError
    >
    <app-display-managed-error controlName="codiceFiscale">Insert a valid codice fiscale (16 chars)</app-display-managed-error>
  </div>

  <div class="form-group">
    <label for="displayName">Display name *:</label>
    <input type="text" formControlName="displayName" placeholder="Es: Mario Rossi" class="form-control"
           id="displayName" appManagedError>
    <app-display-managed-error controlName="displayName">Insert a valid display name (max 64 chars)</app-display-managed-error>
  </div>

  <button type="button" class="m-2 float-right btn btn-lg btn-outline-primary" (click)="goBack()">Cancel</button>
  <button type="submit" [disabled]="form.invalid" class="m-2 float-right btn btn-lg btn-success"><i *ngIf="true===loading" class="fa fa-spinner fa-spin"></i>&nbsp;{{signupMode?'Register':'Save'}}</button>

</form>

