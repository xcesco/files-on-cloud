<div class="card">
  <div class="card-header d-flex flex-wrap align-items-center">
    <div class="display-4 p-1">New file</div>
    <button class="btn btn-outline-primary ml-auto" (click)="goBack()"
            role="button"><i class="fa fa-arrow-left"></i>&nbsp;Back
    </button>

  </div>

  <div class="card-body">

    <form [formGroup]="form" novalidate (ngSubmit)="onSave()">

      <div class="form-group">
        <label for="codiceFiscale">Codice fiscale:</label>
        <input type="text"
               id="codiceFiscale"
               formControlName="codiceFiscale"
               class="form-control"
               placeholder="Es: RSSRSS80A01L424G"
               appManagedError
        >
        <app-display-managed-error controlName="codiceFiscale">Insert a valid codice fiscale (16 chars)</app-display-managed-error>
      </div>


      <div class="form-group">
        <label for="displayName">Display name:</label>
        <input type="text"
               id="displayName"
               formControlName="displayName"
               class="form-control"
               placeholder="Es: Mario Rossi"
               appManagedError
        >
        <app-display-managed-error controlName="displayName">Insert a valid display name (max 64 chars)</app-display-managed-error>
      </div>

      <div class="form-group">
        <label for="email">Email:</label>
        <input type="text"
               id="email"
               formControlName="email"
               class="form-control"
               placeholder="Es: test@gmail.com"
               appManagedError
        >
        <app-display-managed-error controlName="email">Insert a valid email (max 64 chars)</app-display-managed-error>
      </div>

      <div class="form-group">
        <label for="username">Username:</label>
        <input type="text"
               id="username"
               formControlName="username"
               class="form-control"
               placeholder="Es: test@gmail.com"
               appManagedError
        >
        <app-display-managed-error controlName="username">Insert a valid username (max 64 chars)</app-display-managed-error>
      </div>

      <div class="form-group">
        <label for="hashtag">Hashtag:</label>
        <input type="text"
               id="hashtag"
               formControlName="hashtag"
               class="form-control"
               placeholder="Es: tag1, tag2, tag3"
               appManagedError
        >
        <app-display-managed-error controlName="hashtag">Insert tag list</app-display-managed-error>
      </div>


      <div>
        <label for="importFile">File:</label>
      </div>
      <div class="custom-file">
        <input type="file"
               appManagedError
               id="importFile"
               formControlName="file"
               class="custom-file-input"
               (change)="onFileChange($event.target.files)">
        <label class="custom-file-label" #labelImport for="importFile"><i class="fa fa-search"></i> Choose a file
          (max. 1 MByte)</label>
      </div>
      <app-display-managed-error controlName="file">Insert a file (max 1 MB)</app-display-managed-error>


      <button type="button" class="m-2 float-right btn btn-lg btn-outline-primary" (click)="goBack()">Cancel</button>
      <button type="submit" [disabled]="isFormInvalid()" class="m-2 float-right btn btn-lg btn-success"><i
        *ngIf="true===loading" class="fa fa-spinner fa-spin"></i>&nbsp;Save
      </button>


    </form>


  </div>
</div>
